<ion-view view-title="报修单" id="fontSet">

    <ion-nav-buttons  side = "right"  >
        <button  ng-show = " isShow" class = "button button-clear icon ion-plus-round" ng-click = "newFormClicked()"></button>
    </ion-nav-buttons> 
  <div class="bar bar-subheader bar-stable item-input-inset search-bar">
    <label class="item-input-wrapper" style="border:none">
      <i class="ion-search dark"></i>
      <input type="text" placeholder="搜索" ng-model="searchcontent" ng-click="searchClick()" ng-change="searchContentChange()">
    </label>
    <button class="button-clear search-cancel" ng-hide="hideCancel" ng-click="searchCancel()">取消</button> 
  </div>

  <!-- filter bar -->
  <div class="bar bar-subheader bar-light filter-subHeader" style="margin-top: 43px;">
    <div class="button-bar">
      <!-- TODO：
            需要后台协助对选择框的内容进行整改。。
            如：未接单的报修单不允许按照审核时间排序 
      -->

      <a class="button button-clear" id="subHeaderMenu" ng-click="menu1()" style="background-color: {{menu1Color}}">{{menu1Content}}<i class="ion-ios-arrow-down"></i></a>
      <a class="button button-clear" id="subHeaderMenu" ng-click="menu2()" style="background-color: {{menu2Color}}">{{menu2Content}}<i class="ion-ios-arrow-down"></i></a>

      <!-- TODO:　
        需要js协助对下面button进行点击之后的改变动作：
        降序 <-> 升序 -->
      <a class="button button-clear" id="subHeaderMenu" ng-click="menu3()">{{menu3Content}}<i class="{{menu3Icon}}"></i></a>
    </div>
  </div> 
  



 <!--  <ion-pane class="has-subheader"  ng-hide="menu1Var" ng-click="clickmenu()"> -->
  <!-- <script id="menu1.html" type="text/ng-template">
  <ion-popover-view> -->
    <ul class="list has-subheader subHeaderMenuList" ng-hide="menu1Var" style="margin-top: 27px;">
      <li class="item subHeaderMenuOption" ng-click="chooseAll()">
        <span class="subHeaderMenuContent">全部</span>
      </li>
      <li class="item subHeaderMenuOption" ng-click="chooseUnordered()">
        <span class="subHeaderMenuContent">未接单</span>
      </li>
      <li class="item subHeaderMenuOption" ng-click="chooseOrdered()">
        <span class="subHeaderMenuContent">已接单</span>
      </li>
      <li class="item subHeaderMenuOption" ng-click="chooseAccomplished()">
        <span class="subHeaderMenuContent">已完成</span>
      </li>
      <li class="item subHeaderMenuOption" ng-click="chooseChecked()">
        <span class="subHeaderMenuContent">已审核</span>
      </li>
    </ul>
    <!-- </ion-popover-view>
  </script> -->
<!--   </ion-pane> -->

    <ul class="list has-subheader subHeaderMenuList" ng-hide="menu2Var" style="margin-top: 27px;">
      <li class="item subHeaderMenuOption" ng-click="sortByCreateTime()">
        <span class="subHeaderMenuContent">按创建时间</span>
      </li>
      <li class="item subHeaderMenuOption" ng-hide="menu2Disabled2" ng-click="sortByOrderTime()">
        <span class="subHeaderMenuContent">按接单时间</span>
      </li>
      <li class="item subHeaderMenuOption" ng-hide="menu2Disabled3" ng-click="sortByAccomplishTime()">
        <span class="subHeaderMenuContent">按完成时间</span>
      </li>
      <li class="item subHeaderMenuOption" ng-hide="menu2Disabled4" ng-click="sortByCheckTime()">
        <span class="subHeaderMenuContent">按审核时间</span>
      </li>
    </ul>

<!-- <ion-pane>
      <ion-content ng-click="action()">
          <h2 ng-click="action()">$ionicBackdrop</h2>
      </ion-content>
  </ion-pane> -->



  <ion-content class="content has-subheader form-list" style="margin-top: 33px; ">
  <!-- <ion-content class="content has-subheader" overflow-scroll="true"> -->
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="doRefresh()">
    </ion-refresher>
    <ion-list>

    <div id="formsHeader"></div>
    
      <ion-item class="item" ng-repeat="form in forms | orderBy:order | filter: searchFilter" type="item-text-wrap" id="listItem" ng-click="itemClicked(form.id)">
        <p id="formTitle" >
          报修单号：{{form.id}}
        </p>
        <p style="margin-top: 10px;">
          状态：
          <span style="color: {{form.statusColor}}">
            {{form.status}}
          </span>
        </p>
        <div>
          <div id="formValueBackground">
            <span id="formValue">
              {{form.value}}
            </span>
          </div>
        </div>
        <hr size=1 id="divideLine">
        <p>
          客户姓名：
          <span id="blackFont">
            {{form.clientName}}
          </span>
        </p>
        <p>
          服务项目：
          <span id="blackFont">
            {{form.type}}
          </span>
        </p>
        <p>
          工程师：
          <span id="blackFont">
            {{form.engineerName}}
          </span>
        </p>
        <p>
          销售人员：
          <span id="blackFont">
            {{form.salesName}}
          </span>
        </p>
        <p>
          {{timeLabel}}
          <span id="blackFont">
            {{form.creatTime}}
          </span>
        </p>

      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>